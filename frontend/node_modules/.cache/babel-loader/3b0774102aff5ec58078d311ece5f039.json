{"ast":null,"code":"class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`\n      },\n      credentials: 'include'\n    }).then(this._checkResponse);\n  }\n\n  postCards(item) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        name: item.name,\n        link: item.link\n      })\n    }).then(this._checkResponse);\n  }\n\n  handlerDeleteCards(item) {\n    return fetch(`${this._url}/cards/${item}`, {\n      method: 'DELETE',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n      },\n      credentials: 'include'\n    }).then(this._checkResponse);\n  }\n\n  changeLikeCardStatus(item, like) {\n    return fetch(`${this._url}/cards/${item}/likes`, {\n      method: like ? 'DELETE' : 'PUT',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`\n      },\n      credentials: 'include'\n    }).then(this._checkResponse);\n  }\n\n  getUserInfoFromServer() {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`\n      },\n      credentials: 'include'\n    }).then(this._checkResponse);\n  }\n\n  updateUserData(item) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about\n      })\n    }).then(this._checkResponse);\n  }\n\n  updateUserAvatar(item) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        avatar: item.link\n      })\n    }).then(this._checkResponse);\n  }\n\n}\n\nconst config = {\n  url: \"http://localhost:3000\"\n};\nconst api = new Api(config);\nexport default api;","map":{"version":3,"sources":["/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/src/utils/api.js"],"names":["Api","constructor","config","_url","url","_headers","headers","_checkResponse","res","ok","json","Promise","reject","status","getInitialCards","fetch","method","localStorage","getItem","credentials","then","postCards","item","body","JSON","stringify","name","link","handlerDeleteCards","changeLikeCardStatus","like","getUserInfoFromServer","updateUserData","about","updateUserAvatar","avatar","api"],"mappings":"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","sourcesContent":["class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n  \n    _checkResponse(res) {\n      if (res.ok) {\n          return res.json();\n      }\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  \n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n            },\n            credentials: 'include' \n        })\n        .then(this._checkResponse)\n    }\n  \n    postCards(item) {\n        return fetch(`${this._url}/cards`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n            },\n            credentials: 'include',\n            body: JSON.stringify({\n              name: item.name,\n              link: item.link,\n            })\n        })\n        .then(this._checkResponse)\n    }\n  \n    handlerDeleteCards(item) {\n      return fetch(`${this._url}/cards/${item}`, {\n          method: 'DELETE',\n          headers: {\n            \"Content-Type\": \"application/json\",\n            'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n          },\n          credentials: 'include' \n      })\n      .then(this._checkResponse)\n    }\n  \n    changeLikeCardStatus(item, like) {\n      return fetch(`${this._url}/cards/${item}/likes`, {\n          method: like ? 'DELETE' : 'PUT',\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n          },\n          credentials: 'include' \n      })\n      .then(this._checkResponse)\n    }\n  \n    getUserInfoFromServer() {\n        return fetch(`${this._url}/users/me`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n            },\n            credentials: 'include' \n        })\n        .then(this._checkResponse)\n    }\n  \n    updateUserData(item) {\n      return fetch(`${this._url}/users/me`, {\n          method: \"PATCH\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n          },\n          credentials: 'include' ,\n          body: JSON.stringify({\n              name: item.name,\n              about: item.about\n          })\n      })\n      .then(this._checkResponse)\n    }\n  \n    updateUserAvatar(item) {\n      return fetch(`${this._url}/users/me/avatar`, {\n        method: \"PATCH\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": `Bearer ${localStorage.getItem('jwt')}`,\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          avatar: item.link,\n        })\n      })\n      .then(this._checkResponse)\n    }\n}\n    \nconst config = {\n    url: \"http://localhost:3000\",\n};\n\nconst api = new Api(config);\n\nexport default api;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import{useEffect,useRef}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupWithForm(_ref){var isOpen=_ref.isOpen,name=_ref.name,onClose=_ref.onClose,title=_ref.title,children=_ref.children,buttonText=_ref.buttonText,onSubmit=_ref.onSubmit,onCloseOverlayClick=_ref.onCloseOverlayClick,onCloseKeyDown=_ref.onCloseKeyDown;var popupLinkRef=useRef();useEffect(function(){var currentPopup=popupLinkRef.current;currentPopup.addEventListener(\"mousedown\",onCloseOverlayClick);document.addEventListener(\"keydown\",onCloseKeyDown);return function(){document.removeEventListener(\"keydown\",onCloseKeyDown);currentPopup.removeEventListener(\"mousedown\",onCloseOverlayClick);};},[isOpen,onClose,onCloseKeyDown,onCloseOverlayClick]);return/*#__PURE__*/_jsx(\"div\",{className:\"popup popup_type_\".concat(name,\" \").concat(isOpen?\"popup_open\":\"\"),ref:popupLinkRef,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"popup__close-button\",onClick:onClose}),/*#__PURE__*/_jsxs(\"form\",{className:\"form form_\".concat(name),name:name,onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"form__title\",children:title}),children,/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form__save-button\",children:buttonText})]})]})});}export default PopupWithForm;","map":{"version":3,"sources":["/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/src/components/PopupWithForm.js"],"names":["useEffect","useRef","PopupWithForm","isOpen","name","onClose","title","children","buttonText","onSubmit","onCloseOverlayClick","onCloseKeyDown","popupLinkRef","currentPopup","current","addEventListener","document","removeEventListener"],"mappings":"AAAA,OAASA,SAAT,CAAoBC,MAApB,KAAkC,OAAlC,C,wFAEA,QAASC,CAAAA,aAAT,MAA4H,IAApGC,CAAAA,MAAoG,MAApGA,MAAoG,CAA5FC,IAA4F,MAA5FA,IAA4F,CAAtFC,OAAsF,MAAtFA,OAAsF,CAA7EC,KAA6E,MAA7EA,KAA6E,CAAtEC,QAAsE,MAAtEA,QAAsE,CAA5DC,UAA4D,MAA5DA,UAA4D,CAAhDC,QAAgD,MAAhDA,QAAgD,CAAtCC,mBAAsC,MAAtCA,mBAAsC,CAAjBC,cAAiB,MAAjBA,cAAiB,CAExH,GAAMC,CAAAA,YAAY,CAAGX,MAAM,EAA3B,CAEAD,SAAS,CAAC,UAAM,CACZ,GAAMa,CAAAA,YAAY,CAAGD,YAAY,CAACE,OAAlC,CACAD,YAAY,CAACE,gBAAb,CAA8B,WAA9B,CAA2CL,mBAA3C,EACAM,QAAQ,CAACD,gBAAT,CAA0B,SAA1B,CAAqCJ,cAArC,EACA,MAAM,WAAM,CACRK,QAAQ,CAACC,mBAAT,CAA6B,SAA7B,CAAwCN,cAAxC,EACAE,YAAY,CAACI,mBAAb,CAAiC,WAAjC,CAA8CP,mBAA9C,EACH,CAHD,CAIH,CARQ,CAQN,CAACP,MAAD,CAASE,OAAT,CAAkBM,cAAlB,CAAkCD,mBAAlC,CARM,CAAT,CAUA,mBACI,YAAK,SAAS,4BAAsBN,IAAtB,aAA8BD,MAAM,CAAG,YAAH,CAAkB,EAAtD,CAAd,CAA0E,GAAG,CAAES,YAA/E,uBACI,aAAK,SAAS,CAAC,kBAAf,wBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,qBAAhC,CAAsD,OAAO,CAAEP,OAA/D,EADJ,cAEI,cAAM,SAAS,qBAAeD,IAAf,CAAf,CAAsC,IAAI,CAAEA,IAA5C,CAAkD,QAAQ,CAAEK,QAA5D,wBACI,WAAI,SAAS,CAAC,aAAd,UAA6BH,KAA7B,EADJ,CAEKC,QAFL,cAGI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,mBAAhC,UAAqDC,UAArD,EAHJ,GAFJ,GADJ,EADJ,CAYH,CAED,cAAeN,CAAAA,aAAf","sourcesContent":["import { useEffect, useRef } from 'react';\n\nfunction PopupWithForm({isOpen, name, onClose, title, children, buttonText, onSubmit, onCloseOverlayClick, onCloseKeyDown}) { \n\n    const popupLinkRef = useRef();\n\n    useEffect(() => {\n        const currentPopup = popupLinkRef.current;\n        currentPopup.addEventListener(\"mousedown\", onCloseOverlayClick);\n        document.addEventListener(\"keydown\", onCloseKeyDown);\n        return() => {\n            document.removeEventListener(\"keydown\", onCloseKeyDown);\n            currentPopup.removeEventListener(\"mousedown\", onCloseOverlayClick);\n        }\n    }, [isOpen, onClose, onCloseKeyDown, onCloseOverlayClick]);\n\n    return(\n        <div className={`popup popup_type_${name} ${isOpen ? \"popup_open\" : \"\"}`} ref={popupLinkRef}>\n            <div className=\"popup__container\">\n                <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n                <form className={`form form_${name}`} name={name} onSubmit={onSubmit}>\n                    <h2 className=\"form__title\">{title}</h2>\n                    {children}\n                    <button type=\"submit\" className=\"form__save-button\">{buttonText}</button>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default PopupWithForm;"]},"metadata":{},"sourceType":"module"}
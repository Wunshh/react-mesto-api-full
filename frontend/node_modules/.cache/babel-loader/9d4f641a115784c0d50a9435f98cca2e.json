{"ast":null,"code":"export const BASE_URL = \"https://auth.nomoreparties.co\";\nexport const register = (password, email) => {\n  debugger;\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      password,\n      email\n    })\n  }).then(response => {\n    return response.json();\n  }).then(res => {\n    return res;\n  }).catch(err => console.log(err));\n};\nexport const authorize = (password, email) => {\n  debugger;\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      password,\n      email\n    })\n  }).then(response => response.json()).then(data => {\n    console.log(data.user); // if (data.token){\n    //   localStorage.setItem('jwt', data.token);\n    //   return data;\n    // } \n  }).catch(err => console.log(err));\n};\nexport const checkToken = token => {\n  debugger;\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  }).then(res => res.json()).then(data => data);\n};","map":{"version":3,"sources":["/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/src/utils/auth.js"],"names":["BASE_URL","register","password","email","fetch","method","headers","body","JSON","stringify","then","response","json","res","catch","err","console","log","authorize","data","user","checkToken","token"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,+BAAjB;AAEP,OAAO,MAAMC,QAAQ,GAAG,CAACC,QAAD,EAAWC,KAAX,KAAqB;AAC3C;AACE,SAAOC,KAAK,CAAE,GAAEJ,QAAS,SAAb,EAAuB;AACjCK,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB;AAFT,KAFwB;AAMjCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACP,MAAAA,QAAD;AAAWC,MAAAA;AAAX,KAAf;AAN2B,GAAvB,CAAL,CAQNO,IARM,CAQAC,QAAD,IAAc;AAClB,WAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,GAVM,EAWNF,IAXM,CAWAG,GAAD,IAAS;AACb,WAAOA,GAAP;AACD,GAbM,EAcNC,KAdM,CAcCC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAdT,CAAP;AAeD,CAjBI;AAmBL,OAAO,MAAMG,SAAS,GAAG,CAAChB,QAAD,EAAWC,KAAX,KAAqB;AAC5C;AACA,SAAOC,KAAK,CAAE,GAAEJ,QAAS,SAAb,EAAuB;AACjCK,IAAAA,MAAM,EAAE,MADyB;AAEjCC,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB;AAFT,KAFwB;AAMjCC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACP,MAAAA,QAAD;AAAWC,MAAAA;AAAX,KAAf;AAN2B,GAAvB,CAAL,CAQNO,IARM,CAQAC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EARZ,EASNF,IATM,CASAS,IAAD,IAAU;AACdH,IAAAA,OAAO,CAACC,GAAR,CAAYE,IAAI,CAACC,IAAjB,EADc,CAEd;AACA;AAEA;AACA;AACD,GAhBM,EAiBNN,KAjBM,CAiBAC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAjBP,CAAP;AAkBD,CApBM;AAsBP,OAAO,MAAMM,UAAU,GAAIC,KAAD,IAAW;AACnC;AACA,SAAOlB,KAAK,CAAE,GAAEJ,QAAS,WAAb,EAAyB;AACnCK,IAAAA,MAAM,EAAE,KAD2B;AAEnCC,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB,kBAFT;AAGP,uBAAkB,UAASgB,KAAM;AAH1B;AAF0B,GAAzB,CAAL,CAQNZ,IARM,CAQDG,GAAG,IAAIA,GAAG,CAACD,IAAJ,EARN,EASNF,IATM,CASDS,IAAI,IAAIA,IATP,CAAP;AAUD,CAZM","sourcesContent":["export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nexport const register = (password, email) => {\n  debugger\n    return fetch(`${BASE_URL}/signup`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({password, email})\n    })\n    .then((response) => {\n      return response.json();\n    })\n    .then((res) => {\n      return res;\n    })\n    .catch((err) => console.log(err));\n  };\n\n  export const authorize = (password, email) => {\n    debugger\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({password, email})\n    })\n    .then((response => response.json()))\n    .then((data) => {\n      console.log(data.user)\n      // if (data.token){\n      //   localStorage.setItem('jwt', data.token);\n        \n      //   return data;\n      // } \n    })\n    .catch(err => console.log(err))\n  };\n  \n  export const checkToken = (token) => {\n    debugger\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(res => res.json())\n    .then(data => data)\n  }"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from\"/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link,useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(_ref){var onRegister=_ref.onRegister;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var history=useHistory();var resetForm=function resetForm(){setEmail(\"\");setPassword(\"\");};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(evt){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();onRegister({password:password,email:email}).then(resetForm).catch(function(err){console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){if(localStorage.getItem('jwt')){history.push('/');}},[]);function handlePasswordAdd(evt){setPassword(evt.target.value);}function handleEmailAdd(evt){setEmail(evt.target.value);}return/*#__PURE__*/_jsxs(\"div\",{className:\"login-page\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"login-page__title\",children:\"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-page__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"login-page__input form__login-input_email\",type:\"email\",placeholder:\"Email\",name:\"email\",required:true,value:email,onChange:handleEmailAdd}),/*#__PURE__*/_jsx(\"input\",_defineProperty({className:\"login-page__input form__login-input_password\",type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",name:\"password\",minLength:\"3\",required:true,value:password,onChange:handlePasswordAdd},\"minLength\",\"3\")),/*#__PURE__*/_jsx(\"button\",{className:\"login-page__save-button\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"login-page__subtitle\",children:[\"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \",/*#__PURE__*/_jsx(Link,{to:\"/signin\",className:\"login-page__subtitle login-page__link\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});}export default Register;","map":{"version":3,"sources":["/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/src/components/Register.js"],"names":["React","useState","useEffect","Link","useHistory","Register","onRegister","email","setEmail","password","setPassword","history","resetForm","handleSubmit","evt","preventDefault","then","catch","err","console","log","localStorage","getItem","push","handlePasswordAdd","target","value","handleEmailAdd"],"mappings":"msBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA4C,OAA5C,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,C,wFAEA,QAASC,CAAAA,QAAT,MAAkC,IAAdC,CAAAA,UAAc,MAAdA,UAAc,CAE9B,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAgCP,QAAQ,CAAC,EAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAEA,GAAMQ,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBJ,QAAQ,CAAC,EAAD,CAAR,CACAE,WAAW,CAAC,EAAD,CAAX,CACH,CAHD,CAKA,GAAMG,CAAAA,YAAY,2FAAG,iBAAOC,GAAP,kHACjBA,GAAG,CAACC,cAAJ,GAEAT,UAAU,CAAC,CAAEG,QAAQ,CAARA,QAAF,CAAYF,KAAK,CAALA,KAAZ,CAAD,CAAV,CACGS,IADH,CACQJ,SADR,EAEGK,KAFH,CAES,SAACC,GAAD,CAAS,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAJH,EAHiB,sDAAH,kBAAZL,CAAAA,YAAY,6CAAlB,CAUAX,SAAS,CAAC,UAAM,CACZ,GAAImB,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAJ,CAAiC,CAC/BX,OAAO,CAACY,IAAR,CAAa,GAAb,EACD,CACJ,CAJQ,CAIN,EAJM,CAAT,CAMA,QAASC,CAAAA,iBAAT,CAA2BV,GAA3B,CAAgC,CAC5BJ,WAAW,CAACI,GAAG,CAACW,MAAJ,CAAWC,KAAZ,CAAX,CACH,CAED,QAASC,CAAAA,cAAT,CAAwBb,GAAxB,CAA6B,CACzBN,QAAQ,CAACM,GAAG,CAACW,MAAJ,CAAWC,KAAZ,CAAR,CACH,CAED,mBACI,aAAK,SAAS,CAAC,YAAf,wBACI,WAAI,SAAS,CAAC,mBAAd,gFADJ,cAEI,cAAM,SAAS,CAAC,kBAAhB,CAAmC,QAAQ,CAAEb,YAA7C,wBACI,cACI,SAAS,CAAC,2CADd,CAEI,IAAI,CAAC,OAFT,CAGI,WAAW,CAAC,OAHhB,CAII,IAAI,CAAC,OAJT,CAKI,QAAQ,KALZ,CAMI,KAAK,CAAEN,KANX,CAOI,QAAQ,CAAEoB,cAPd,EADJ,cAWI,8BACI,SAAS,CAAC,8CADd,CAEI,IAAI,CAAC,UAFT,CAGI,WAAW,CAAC,sCAHhB,CAII,IAAI,CAAC,UAJT,CAKI,SAAS,CAAC,GALd,CAMI,QAAQ,KANZ,CAOI,KAAK,CAAElB,QAPX,CAQI,QAAQ,CAAEe,iBARd,cASc,GATd,EAXJ,cAsBI,eAAQ,SAAS,CAAC,yBAAlB,0HAtBJ,GAFJ,cA0BI,WAAG,SAAS,CAAC,sBAAb,gJAA0D,KAAC,IAAD,EAAM,EAAE,CAAE,SAAV,CAAqB,SAAS,CAAC,uCAA/B,4CAA1D,GA1BJ,GADJ,CA8BH,CAED,cAAenB,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect  } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nfunction Register({ onRegister }) {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const history = useHistory();\n \n    const resetForm = () => {\n        setEmail(\"\");\n        setPassword(\"\");\n    }\n\n    const handleSubmit = async (evt) => {\n        evt.preventDefault();\n    \n        onRegister({ password, email })\n          .then(resetForm)\n          .catch((err) => {\n              console.log(err)\n          });\n    };\n\n    useEffect(() => {\n        if (localStorage.getItem('jwt')) {\n          history.push('/');\n        }\n    }, []);\n\n    function handlePasswordAdd(evt) {\n        setPassword(evt.target.value);\n    }\n\n    function handleEmailAdd(evt) {\n        setEmail(evt.target.value);\n    }\n\n    return (\n        <div className=\"login-page\">\n            <h1 className=\"login-page__title\">Регистрация</h1>\n            <form className=\"login-page__form\" onSubmit={handleSubmit}>\n                <input \n                    className=\"login-page__input form__login-input_email\" \n                    type=\"email\" \n                    placeholder=\"Email\"\n                    name=\"email\"\n                    required\n                    value={email}\n                    onChange={handleEmailAdd}\n                />\n\n                <input \n                    className=\"login-page__input form__login-input_password\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    name=\"password\"\n                    minLength=\"3\" \n                    required\n                    value={password}\n                    onChange={handlePasswordAdd}\n                    minLength=\"3\"\n                />\n                <button className=\"login-page__save-button\">Зарегистрироваться</button>\n            </form>\n            <p className=\"login-page__subtitle\">Уже зарегистрированы? <Link to={\"/signin\"} className=\"login-page__subtitle login-page__link\">Войти</Link></p>\n        </div>\n    )\n}\n\nexport default Register;"]},"metadata":{},"sourceType":"module"}
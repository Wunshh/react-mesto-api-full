{"ast":null,"code":"export const BASE_URL = \"https://auth.nomoreparties.co\";\nexport const register = (password, email) => {\n  debugger;\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      password,\n      email\n    })\n  }).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  });\n};\nexport const authorize = (password, email) => {\n  debugger;\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      password,\n      email\n    })\n  }).then(res => {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }).then(data => {\n    console.log(data); // if (data.user){\n    //   localStorage.setItem('jwt', data.jwt);\n    //   return data;\n    // } else {\n    //   return;\n    // }\n  }).catch(err => console.log(err));\n};\nexport const checkToken = token => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  }).then(res => res.json()).then(data => data);\n};","map":{"version":3,"sources":["/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/src/utils/auth.js"],"names":["BASE_URL","register","password","email","fetch","method","headers","body","JSON","stringify","then","res","ok","json","Promise","reject","status","authorize","data","console","log","catch","err","checkToken","token"],"mappings":"AAAA,OAAO,MAAMA,QAAQ,GAAG,+BAAjB;AAEP,OAAO,MAAMC,QAAQ,GAAG,CAAEC,QAAF,EAAYC,KAAZ,KAAuB;AAC3C;AACA,SAAOC,KAAK,CAAE,GAAEJ,QAAS,SAAb,EAAuB;AAC/BK,IAAAA,MAAM,EAAE,MADuB;AAE/BC,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB;AAFX,KAFsB;AAM/BC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEP,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,KAAf;AANyB,GAAvB,CAAL,CAQNO,IARM,CAQDC,GAAG,IAAI;AACT,QAAIA,GAAG,CAACC,EAAR,EAAY;AACR,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACH;;AACD,WAAOC,OAAO,CAACC,MAAR,CAAgB,WAAUJ,GAAG,CAACK,MAAO,EAArC,CAAP;AACH,GAbM,CAAP;AAcH,CAhBM;AAkBP,OAAO,MAAMC,SAAS,GAAG,CAAEf,QAAF,EAAYC,KAAZ,KAAuB;AAC5C;AACA,SAAOC,KAAK,CAAE,GAAEJ,QAAS,SAAb,EAAuB;AAC/BK,IAAAA,MAAM,EAAE,MADuB;AAE/BC,IAAAA,OAAO,EAAE;AACL,gBAAU,kBADL;AAEL,sBAAgB;AAFX,KAFsB;AAM/BC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEP,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,KAAf;AANyB,GAAvB,CAAL,CAQNO,IARM,CAQDC,GAAG,IAAI;AACT,QAAIA,GAAG,CAACC,EAAR,EAAY;AACR,aAAOD,GAAG,CAACE,IAAJ,EAAP;AACH;;AACD,WAAOC,OAAO,CAACC,MAAR,CAAgB,WAAUJ,GAAG,CAACK,MAAO,EAArC,CAAP;AACH,GAbM,EAcNN,IAdM,CAcAQ,IAAD,IAAU;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ,EADY,CAEZ;AACA;AACA;AACA;AACA;AACA;AACH,GAtBM,EAuBNG,KAvBM,CAuBAC,GAAG,IAAIH,OAAO,CAACC,GAAR,CAAYE,GAAZ,CAvBP,CAAP;AAwBH,CA1BM;AA4BP,OAAO,MAAMC,UAAU,GAAIC,KAAD,IAAW;AACjC,SAAOpB,KAAK,CAAE,GAAEJ,QAAS,WAAb,EAAyB;AACnCK,IAAAA,MAAM,EAAE,KAD2B;AAEnCC,IAAAA,OAAO,EAAE;AACP,gBAAU,kBADH;AAEP,sBAAgB,kBAFT;AAGP,uBAAkB,UAASkB,KAAM;AAH1B;AAF0B,GAAzB,CAAL,CAQNd,IARM,CAQDC,GAAG,IAAIA,GAAG,CAACE,IAAJ,EARN,EASNH,IATM,CASDQ,IAAI,IAAIA,IATP,CAAP;AAUH,CAXM","sourcesContent":["export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nexport const register = ( password, email ) => {\n    debugger\n    return fetch(`${BASE_URL}/signup`, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\" \n        },\n        body: JSON.stringify({ password, email })\n    })\n    .then(res => {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    });\n}\n\nexport const authorize = ( password, email ) => {\n    debugger\n    return fetch(`${BASE_URL}/signin`, {\n        method: \"POST\",\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\" \n        },\n        body: JSON.stringify({ password, email })\n    })\n    .then(res => {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    })\n    .then((data) => {\n        console.log(data)\n        // if (data.user){\n        //   localStorage.setItem('jwt', data.jwt);\n        //   return data;\n        // } else {\n        //   return;\n        // }\n    })\n    .catch(err => console.log(err))\n}\n\nexport const checkToken = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(res => res.json())\n    .then(data => data)\n}"]},"metadata":{},"sourceType":"module"}
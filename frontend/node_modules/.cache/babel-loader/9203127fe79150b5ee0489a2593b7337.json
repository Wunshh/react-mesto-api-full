{"ast":null,"code":"import _slicedToArray from\"/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useContext,useEffect}from'react';import{CurrentUserContext}from\"../contexts/CurrentUserContext.js\";import PopupWithForm from\"./PopupWithForm.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser,onCloseOverlayClick=_ref.onCloseOverlayClick;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var currentUser=useContext(CurrentUserContext);function handleNameChange(evt){setName(evt.target.value);}function handleDescriptionChange(evt){setDescription(evt.target.value);}useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);function handleSubmit(evt){evt.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"edit\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,onCloseOverlayClick:onCloseOverlayClick,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form__user-info form__user-info_user_name form__input\",id:\"input-name\",name:\"name\",value:name||\"\",onChange:handleNameChange,type:\"text\",required:true,placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error input-name-error\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form__user-info form__user-info_user_job form__input\",id:\"input-job\",name:\"description\",value:description||\"\",onChange:handleDescriptionChange,type:\"text\",required:true,placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",minLength:\"2\",maxLength:\"200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"form__input-error input-job-error\"})]});}","map":{"version":3,"sources":["/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["useState","useContext","useEffect","CurrentUserContext","PopupWithForm","EditProfilePopup","isOpen","onClose","onUpdateUser","onCloseOverlayClick","name","setName","description","setDescription","currentUser","handleNameChange","evt","target","value","handleDescriptionChange","about","handleSubmit","preventDefault"],"mappings":"iLAAA,OAASA,QAAT,CAAmBC,UAAnB,CAA+BC,SAA/B,KAA+C,OAA/C,CACA,OAASC,kBAAT,KAAmC,mCAAnC,CACA,MAAOC,CAAAA,aAAP,KAA0B,oBAA1B,C,wFAEA,cAAe,SAASC,CAAAA,gBAAT,MAAiF,IAArDC,CAAAA,MAAqD,MAArDA,MAAqD,CAA7CC,OAA6C,MAA7CA,OAA6C,CAApCC,YAAoC,MAApCA,YAAoC,CAAtBC,mBAAsB,MAAtBA,mBAAsB,CAC9F,cAAwBT,QAAQ,CAAC,EAAD,CAAhC,wCAAOU,IAAP,eAAaC,OAAb,eACA,eAAsCX,QAAQ,CAAC,EAAD,CAA9C,yCAAOY,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,WAAW,CAAGb,UAAU,CAACE,kBAAD,CAA9B,CAEA,QAASY,CAAAA,gBAAT,CAA0BC,GAA1B,CAA+B,CAC7BL,OAAO,CAACK,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAP,CACD,CAED,QAASC,CAAAA,uBAAT,CAAiCH,GAAjC,CAAsC,CACpCH,cAAc,CAACG,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAd,CACD,CAEDhB,SAAS,CAAC,UAAM,CACZS,OAAO,CAACG,WAAW,CAACJ,IAAb,CAAP,CACAG,cAAc,CAACC,WAAW,CAACM,KAAb,CAAd,CACD,CAHM,CAGJ,CAACN,WAAD,CAAcR,MAAd,CAHI,CAAT,CAMA,QAASe,CAAAA,YAAT,CAAsBL,GAAtB,CAA2B,CACzBA,GAAG,CAACM,cAAJ,GAEAd,YAAY,CAAC,CACXE,IAAI,CAAEA,IADK,CAEXU,KAAK,CAAER,WAFI,CAAD,CAAZ,CAID,CAED,mBACE,MAAC,aAAD,EACE,IAAI,CAAC,MADP,CAEE,KAAK,CAAC,2HAFR,CAGE,UAAU,CAAC,wDAHb,CAIE,MAAM,CAAEN,MAJV,CAKE,OAAO,CAAEC,OALX,CAME,QAAQ,CAAEc,YANZ,CAOE,mBAAmB,CAAEZ,mBAPvB,wBASE,cACE,SAAS,CAAC,uDADZ,CAEE,EAAE,CAAC,YAFL,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAEC,IAAI,EAAI,EAJjB,CAKE,QAAQ,CAAEK,gBALZ,CAME,IAAI,CAAC,MANP,CAOE,QAAQ,KAPV,CAQE,WAAW,CAAC,oBARd,CASE,SAAS,CAAC,GATZ,CAUE,SAAS,CAAC,IAVZ,EATF,cAqBE,aAAM,SAAS,CAAC,oCAAhB,EArBF,cAsBE,cACE,SAAS,CAAC,sDADZ,CAEE,EAAE,CAAC,WAFL,CAEiB,IAAI,CAAC,aAFtB,CAGE,KAAK,CAAEH,WAAW,EAAI,EAHxB,CAIE,QAAQ,CAAEO,uBAJZ,CAKE,IAAI,CAAC,MALP,CAME,QAAQ,KANV,CAOE,WAAW,CAAC,iCAPd,CAQE,SAAS,CAAC,GARZ,CASE,SAAS,CAAC,KATZ,EAtBF,cAiCE,aAAM,SAAS,CAAC,mCAAhB,EAjCF,GADF,CAqCD","sourcesContent":["import { useState, useContext, useEffect} from 'react';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser, onCloseOverlayClick}) {\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const currentUser = useContext(CurrentUserContext);\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  useEffect(() => {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    }, [currentUser, isOpen]);\n\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    \n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }\n\n  return(\n    <PopupWithForm \n      name=\"edit\" \n      title=\"Редактировать профиль\" \n      buttonText=\"Сохранить\" \n      isOpen={isOpen} \n      onClose={onClose} \n      onSubmit={handleSubmit} \n      onCloseOverlayClick={onCloseOverlayClick}\n     >\n      <input \n        className=\"form__user-info form__user-info_user_name form__input\" \n        id=\"input-name\" \n        name=\"name\" \n        value={name || \"\"} \n        onChange={handleNameChange} \n        type=\"text\" \n        required \n        placeholder=\"Имя\" \n        minLength=\"2\" \n        maxLength=\"40\"\n      />\n      <span className=\"form__input-error input-name-error\"></span>\n      <input \n        className=\"form__user-info form__user-info_user_job form__input\" \n        id=\"input-job\" name=\"description\" \n        value={description || \"\"} \n        onChange={handleDescriptionChange} \n        type=\"text\" \n        required \n        placeholder=\"О себе\" \n        minLength=\"2\" \n        maxLength=\"200\"\n      />\n      <span className=\"form__input-error input-job-error\"></span> \n    </PopupWithForm>\n  );\n}"]},"metadata":{},"sourceType":"module"}
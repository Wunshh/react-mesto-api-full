{"ast":null,"code":"import _regeneratorRuntime from\"/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var onLogin=_ref.onLogin;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var history=useHistory();var resetForm=function resetForm(){setEmail(\"\");setPassword(\"\");};var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(evt){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();onLogin({password:password,email:email}).then(resetForm).catch(function(err){console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();useEffect(function(){if(localStorage.getItem('jwt')){history.push('/');}},[history]);function handlePasswordAdd(evt){setPassword(evt.target.value);}function handleEmailAdd(evt){setEmail(evt.target.value);}return/*#__PURE__*/_jsxs(\"div\",{className:\"login-page\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"login-page__title\",children:\"\\u0412\\u0445\\u043E\\u0434\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login-page__form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{className:\"login-page__input form__login-input_email\",type:\"email\",placeholder:\"Email\",name:\"email\",required:true,value:email,onChange:handleEmailAdd}),/*#__PURE__*/_jsx(\"input\",{className:\"login-page__input form__login-input_password\",type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",name:\"password\",required:true,value:password,onChange:handlePasswordAdd}),/*#__PURE__*/_jsx(\"button\",{className:\"login-page__save-button\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]})]});}export default Login;","map":{"version":3,"sources":["/Users/valentinadavydova/Documents/GitHub/react-mesto-auth/src/components/Login.js"],"names":["useState","useEffect","useHistory","Login","onLogin","email","setEmail","password","setPassword","history","resetForm","handleSubmit","evt","preventDefault","then","catch","err","console","log","localStorage","getItem","push","handlePasswordAdd","target","value","handleEmailAdd"],"mappings":"ghBAAA,OAAQA,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,wFAEA,QAASC,CAAAA,KAAT,MAA4B,IAAXC,CAAAA,OAAW,MAAXA,OAAW,CAExB,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eACA,eAAgCN,QAAQ,CAAC,EAAD,CAAxC,yCAAOO,QAAP,eAAiBC,WAAjB,eACA,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAEA,GAAMQ,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpBJ,QAAQ,CAAC,EAAD,CAAR,CACAE,WAAW,CAAC,EAAD,CAAX,CACH,CAHD,CAKA,GAAMG,CAAAA,YAAY,2FAAG,iBAAOC,GAAP,kHACjBA,GAAG,CAACC,cAAJ,GACAT,OAAO,CAAC,CAAEG,QAAQ,CAARA,QAAF,CAAYF,KAAK,CAALA,KAAZ,CAAD,CAAP,CACGS,IADH,CACQJ,SADR,EAEGK,KAFH,CAES,SAACC,GAAD,CAAS,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAJH,EAFiB,sDAAH,kBAAZL,CAAAA,YAAY,6CAAlB,CASAV,SAAS,CAAC,UAAM,CACZ,GAAIkB,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAJ,CAAiC,CAC/BX,OAAO,CAACY,IAAR,CAAa,GAAb,EACD,CACJ,CAJQ,CAIN,CAACZ,OAAD,CAJM,CAAT,CAMA,QAASa,CAAAA,iBAAT,CAA2BV,GAA3B,CAAgC,CAC5BJ,WAAW,CAACI,GAAG,CAACW,MAAJ,CAAWC,KAAZ,CAAX,CACH,CAED,QAASC,CAAAA,cAAT,CAAwBb,GAAxB,CAA6B,CACzBN,QAAQ,CAACM,GAAG,CAACW,MAAJ,CAAWC,KAAZ,CAAR,CACH,CAED,mBACI,aAAK,SAAS,CAAC,YAAf,wBACI,WAAI,SAAS,CAAC,mBAAd,sCADJ,cAEI,cAAM,SAAS,CAAC,kBAAhB,CAAmC,QAAQ,CAAEb,YAA7C,wBACI,cACI,SAAS,CAAC,2CADd,CAEI,IAAI,CAAC,OAFT,CAGI,WAAW,CAAC,OAHhB,CAII,IAAI,CAAC,OAJT,CAKI,QAAQ,KALZ,CAMI,KAAK,CAAEN,KANX,CAOI,QAAQ,CAAEoB,cAPd,EADJ,cAWI,cACI,SAAS,CAAC,8CADd,CAEI,IAAI,CAAC,UAFT,CAGI,WAAW,CAAC,sCAHhB,CAII,IAAI,CAAC,UAJT,CAKI,QAAQ,KALZ,CAMI,KAAK,CAAElB,QANX,CAOI,QAAQ,CAAEe,iBAPd,EAXJ,cAoBI,eAAQ,SAAS,CAAC,yBAAlB,4CApBJ,GAFJ,GADJ,CA2BH,CAED,cAAenB,CAAAA,KAAf","sourcesContent":["import {useState, useEffect} from 'react';\nimport { useHistory } from 'react-router-dom';\n\nfunction Login({ onLogin }) {\n\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const history = useHistory();\n\n    const resetForm = () => {\n        setEmail(\"\");\n        setPassword(\"\");\n    }\n\n    const handleSubmit = async (evt) => {\n        evt.preventDefault();\n        onLogin({ password, email })\n          .then(resetForm)\n          .catch((err) => {\n              console.log(err);\n          });\n    }\n\n    useEffect(() => {\n        if (localStorage.getItem('jwt')) {\n          history.push('/');\n        }\n    }, [history]);\n\n    function handlePasswordAdd(evt) {\n        setPassword(evt.target.value);\n    }\n\n    function handleEmailAdd(evt) {\n        setEmail(evt.target.value);\n    }\n\n    return (\n        <div className=\"login-page\">\n            <h1 className=\"login-page__title\">Вход</h1>\n            <form className=\"login-page__form\" onSubmit={handleSubmit}>\n                <input \n                    className=\"login-page__input form__login-input_email\" \n                    type=\"email\" \n                    placeholder=\"Email\"\n                    name=\"email\"\n                    required\n                    value={email}\n                    onChange={handleEmailAdd}\n                />\n\n                <input \n                    className=\"login-page__input form__login-input_password\"\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    name=\"password\"\n                    required\n                    value={password}\n                    onChange={handlePasswordAdd}\n                />\n                <button className=\"login-page__save-button\">Войти</button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}